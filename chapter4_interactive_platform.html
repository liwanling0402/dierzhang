<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¬¬å››ç« æ•°æ®å¯è§†åŒ–å¹³å° - å›¾è¡¨æ ·å¼è®¾è®¡</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Microsoft YaHei', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .controls {
            background: #f8f9fa;
            padding: 20px;
            border-bottom: 1px solid #e9ecef;
        }

        .control-group {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            align-items: center;
            justify-content: center;
        }

        .control-item {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .control-item label {
            font-weight: bold;
            color: #495057;
            font-size: 14px;
        }

        select, input, button {
            padding: 8px 12px;
            border: 1px solid #ced4da;
            border-radius: 5px;
            font-size: 14px;
        }

        button {
            background: #007bff;
            color: white;
            border: none;
            cursor: pointer;
            transition: background 0.3s;
        }

        button:hover {
            background: #0056b3;
        }

        .chart-container {
            padding: 30px;
            min-height: 500px;
        }

        .chart-wrapper {
            position: relative;
            height: 400px;
            margin-bottom: 30px;
        }

        .chart-description {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
            border-left: 4px solid #007bff;
        }

        .color-palette {
            display: flex;
            gap: 10px;
            margin-top: 5px;
        }

        .color-item {
            width: 20px;
            height: 20px;
            border-radius: 3px;
            cursor: pointer;
            border: 2px solid transparent;
        }

        .color-item.active {
            border-color: #007bff;
        }

        .example-gallery {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .example-card {
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            cursor: pointer;
            transition: transform 0.3s;
        }

        .example-card:hover {
            transform: translateY(-5px);
        }

        .example-card h3 {
            color: #495057;
            margin-bottom: 10px;
        }

        .example-card p {
            color: #6c757d;
            font-size: 14px;
        }

        @media (max-width: 768px) {
            .control-group {
                flex-direction: column;
                align-items: stretch;
            }
            
            .chart-container {
                padding: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ç¬¬å››ç« æ•°æ®å¯è§†åŒ–å¹³å°</h1>
            <p>å›¾è¡¨æ ·å¼è®¾è®¡ - é¢œè‰²ã€çº¿å‹ã€æ ‡è®°ã€å­—ä½“å’Œä¸»é¢˜é£æ ¼</p>
        </div>

        <div class="controls">
            <div class="control-group">
                <div class="control-item">
                    <label>é€‰æ‹©å›¾è¡¨ç±»å‹ï¼š</label>
                    <select id="chartType">
                        <option value="bookPurchase">å›¾ä¹¦é‡‡è´­æŸ±å½¢å›¾</option>
                        <option value="exchangeRate">æ±‡ç‡èµ°åŠ¿æŠ˜çº¿å›¾</option>
                        <option value="productSales">äº§å“é”€å”®é¢æŠ˜çº¿å›¾</option>
                        <option value="temperature">æ°”æ¸©å˜åŒ–æŠ˜çº¿å›¾</option>
                    </select>
                </div>

                <div class="control-item">
                    <label>é¢œè‰²ä¸»é¢˜ï¼š</label>
                    <select id="colorTheme">
                        <option value="vibrant">é²œè‰³è‰²å½©</option>
                        <option value="pastel">æŸ”å’Œè‰²å½©</option>
                        <option value="monochrome">å•è‰²ç³»</option>
                        <option value="custom">è‡ªå®šä¹‰</option>
                    </select>
                </div>

                <div class="control-item">
                    <label>çº¿å‹æ ·å¼ï¼š</label>
                    <select id="lineStyle">
                        <option value="solid">å®çº¿</option>
                        <option value="dashed">è™šçº¿</option>
                        <option value="dotted">ç‚¹çº¿</option>
                        <option value="dashdot">ç‚¹åˆ’çº¿</option>
                    </select>
                </div>

                <div class="control-item">
                    <label>æ•°æ®æ ‡è®°ï¼š</label>
                    <select id="markerType">
                        <option value="none">æ— æ ‡è®°</option>
                        <option value="circle">åœ†å½¢</option>
                        <option value="rect">çŸ©å½¢</option>
                        <option value="triangle">ä¸‰è§’å½¢</option>
                        <option value="star">æ˜Ÿå½¢</option>
                    </select>
                </div>

                <div class="control-item">
                    <label>å­—ä½“å¤§å°ï¼š</label>
                    <input type="range" id="fontSize" min="12" max="24" value="16">
                    <span id="fontSizeValue">16px</span>
                </div>

                <button onclick="updateChart()">åº”ç”¨è®¾ç½®</button>
                <button onclick="resetSettings()">é‡ç½®è®¾ç½®</button>
            </div>
        </div>

        <div class="chart-container">
            <div class="chart-wrapper">
                <canvas id="mainChart"></canvas>
            </div>

            <div class="chart-description">
                <h3>å½“å‰å›¾è¡¨è¯´æ˜</h3>
                <p id="chartDescription">é€‰æ‹©å›¾è¡¨ç±»å‹æŸ¥çœ‹è¯¦ç»†è¯´æ˜...</p>
            </div>

            <div class="example-gallery">
                <div class="example-card" onclick="loadExample('bookPurchase')">
                    <h3>ğŸ“š å›¾ä¹¦é‡‡è´­æƒ…å†µ</h3>
                    <p>åœ°åŒº1å’Œåœ°åŒº2å¯¹å„ç±»å›¾ä¹¦çš„é‡‡è´­æƒ…å†µå¯¹æ¯”ï¼Œå±•ç¤ºå¤šç»„æŸ±å½¢å›¾çš„åº”ç”¨</p>
                </div>
                <div class="example-card" onclick="loadExample('exchangeRate')">
                    <h3>ğŸ’± æ±‡ç‡èµ°åŠ¿</h3>
                    <p>2017å¹´7æœˆä¸2019å¹´7æœˆç¾å…ƒ/äººæ°‘å¸æ±‡ç‡èµ°åŠ¿ï¼Œå±•ç¤ºä¸åŒçº¿å‹çš„ä½¿ç”¨</p>
                </div>
                <div class="example-card" onclick="loadExample('productSales')">
                    <h3>ğŸ“ˆ äº§å“é”€å”®é¢</h3>
                    <p>ä¸åŒäº§å“å„å­£åº¦çš„é”€å”®é¢å˜åŒ–ï¼Œå±•ç¤ºæ•°æ®æ ‡è®°å’Œå¤šç§çº¿å‹çš„ç»„åˆä½¿ç”¨</p>
                </div>
                <div class="example-card" onclick="loadExample('temperature')">
                    <h3>ğŸŒ¡ï¸ æ°”æ¸©å˜åŒ–</h3>
                    <p>æœªæ¥15å¤©çš„æœ€é«˜æ°”æ¸©å’Œæœ€ä½æ°”æ¸©èµ°åŠ¿ï¼Œå±•ç¤ºå­—ä½“è®¾ç½®å’Œæ ‡è®°åº”ç”¨</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentChart = null;
        const colorSchemes = {
            vibrant: ['#FF6B6B', '#4ECDC4', '#45B7D1', '#96CEB4', '#FECA57', '#FF9FF3'],
            pastel: ['#FFD8A8', '#A5D8FF', '#D0B8FF', '#B8FFD9', '#FFB8C6', '#FFF8B8'],
            monochrome: ['#666666', '#888888', '#AAAAAA', '#CCCCCC', '#DDDDDD', '#EEEEEE']
        };

        const chartData = {
            bookPurchase: {
                type: 'bar',
                data: {
                    labels: ['å®¶åº­', 'å°è¯´', 'å¿ƒç†', 'ç§‘æŠ€', 'å„¿ç«¥'],
                    datasets: [
                        {
                            label: 'åœ°åŒº1',
                            data: [1200, 2400, 1800, 2200, 1600],
                            backgroundColor: '#FFCC00',
                            borderColor: '#FFCC00',
                            borderWidth: 1
                        },
                        {
                            label: 'åœ°åŒº2',
                            data: [1050, 2100, 1300, 1600, 1340],
                            backgroundColor: '#B0C4DE',
                            borderColor: '#B0C4DE',
                            borderWidth: 1
                        }
                    ]
                },
                description: 'æ­¤å›¾è¡¨å±•ç¤ºä¸¤ä¸ªåœ°åŒºå¯¹ä¸åŒç§ç±»å›¾ä¹¦çš„é‡‡è´­æƒ…å†µã€‚é€šè¿‡å †å æŸ±å½¢å›¾ç›´è§‚æ¯”è¾ƒåœ°åŒºé—´çš„é‡‡è´­å·®å¼‚ã€‚é¢œè‰²æ–¹æ¡ˆä½¿ç”¨#FFCC00ï¼ˆåœ°åŒº1ï¼‰å’Œ#B0C4DEï¼ˆåœ°åŒº2ï¼‰å½¢æˆé²œæ˜å¯¹æ¯”ã€‚'
            },
            exchangeRate: {
                type: 'line',
                data: {
                    labels: [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 17, 18, 19, 24, 25, 26, 31],
                    datasets: [
                        {
                            label: '2017å¹´7æœˆç¾å…ƒ/äººæ°‘å¸æ±‡ç‡',
                            data: [6.8007, 6.8007, 6.8015, 6.8015, 6.8060, 6.8060, 6.8060, 6.8036, 
                                   6.8025, 6.7877, 6.7835, 6.7758, 6.7700, 6.7463, 6.7519, 6.7511, 
                                   6.7511, 6.7539, 6.7265],
                            borderColor: '#006374',
                            backgroundColor: 'rgba(0, 99, 116, 0.1)',
                            borderWidth: 2
                        },
                        {
                            label: '2019å¹´7æœˆç¾å…ƒ/äººæ°‘å¸æ±‡ç‡',
                            data: [6.8640, 6.8705, 6.8697, 6.8697, 6.8697, 6.8881, 6.8853, 6.8856, 
                                   6.8677, 6.8662, 6.8662, 6.8662, 6.8827, 6.8761, 6.8635, 6.8860, 
                                   6.8737, 6.8796, 6.8841],
                            borderColor: '#8a2e76',
                            backgroundColor: 'rgba(138, 46, 118, 0.1)',
                            borderWidth: 2,
                            borderDash: [5, 5]
                        }
                    ]
                },
                description: 'æ­¤å›¾è¡¨å±•ç¤º2017å¹´7æœˆä¸2019å¹´7æœˆç¾å…ƒ/äººæ°‘å¸æ±‡ç‡èµ°åŠ¿å¯¹æ¯”ã€‚2017å¹´æ•°æ®ä½¿ç”¨å®çº¿(#006374)ï¼Œ2019å¹´æ•°æ®ä½¿ç”¨è™šçº¿(#8a2e76)ï¼Œé€šè¿‡ä¸åŒçš„çº¿å‹æ¸…æ™°åŒºåˆ†ä¸¤ä¸ªæ—¶é—´æ®µã€‚'
            },
            productSales: {
                type: 'line',
                data: {
                    labels: ['ç¬¬1å­£åº¦', 'ç¬¬2å­£åº¦', 'ç¬¬3å­£åº¦', 'ç¬¬4å­£åº¦'],
                    datasets: [
                        {
                            label: 'äº§å“A',
                            data: [2144, 4617, 7674, 6666],
                            borderColor: '#FF6B6B',
                            backgroundColor: 'rgba(255, 107, 107, 0.1)',
                            borderWidth: 2,
                            pointStyle: 'rect',
                            pointRadius: 8
                        },
                        {
                            label: 'äº§å“B',
                            data: [853, 1214, 2414, 4409],
                            borderColor: '#4ECDC4',
                            backgroundColor: 'rgba(78, 205, 196, 0.1)',
                            borderWidth: 2,
                            borderDash: [5, 5],
                            pointStyle: 'triangle',
                            pointRadius: 8
                        },
                        {
                            label: 'äº§å“C',
                            data: [153, 155, 292, 680],
                            borderColor: '#45B7D1',
                            backgroundColor: 'rgba(69, 183, 209, 0.1)',
                            borderWidth: 2,
                            borderDash: [2, 2],
                            pointStyle: 'circle',
                            pointRadius: 8
                        }
                    ]
                },
                description: 'æ­¤å›¾è¡¨å±•ç¤ºä¸‰ä¸ªäº§å“å„å­£åº¦çš„é”€å”®é¢å˜åŒ–ã€‚äº§å“Aä½¿ç”¨çŸ©å½¢æ ‡è®°ï¼Œäº§å“Bä½¿ç”¨ä¸‰è§’å½¢æ ‡è®°ï¼Œäº§å“Cä½¿ç”¨åœ†å½¢æ ‡è®°ï¼Œé€šè¿‡ä¸åŒçš„æ ‡è®°æ ·å¼å’Œçº¿å‹ç»„åˆå¢å¼ºå›¾è¡¨çš„å¯è¯»æ€§ã€‚'
            },
            temperature: {
                type: 'line',
                data: {
                    labels: Array.from({length: 15}, (_, i) => `ç¬¬${i+1}å¤©`),
                    datasets: [
                        {
                            label: 'æœ€é«˜æ¸©åº¦',
                            data: [32, 33, 34, 34, 33, 31, 30, 29, 30, 29, 26, 23, 21, 25, 31],
                            borderColor: '#FF6B6B',
                            backgroundColor: 'rgba(255, 107, 107, 0.1)',
                            borderWidth: 2,
                            pointStyle: 'circle',
                            pointRadius: 6
                        },
                        {
                            label: 'æœ€ä½æ¸©åº¦',
                            data: [19, 19, 20, 22, 22, 21, 22, 16, 18, 18, 17, 14, 15, 16, 16],
                            borderColor: '#4ECDC4',
                            backgroundColor: 'rgba(78, 205, 196, 0.1)',
                            borderWidth: 2,
                            pointStyle: 'circle',
                            pointRadius: 6
                        }
                    ]
                },
                description: 'æ­¤å›¾è¡¨å±•ç¤ºæœªæ¥15å¤©çš„æœ€é«˜æ°”æ¸©å’Œæœ€ä½æ°”æ¸©èµ°åŠ¿ã€‚é€šè¿‡æ¸©åº¦å€¼æ ‡ç­¾å’Œåœ†å½¢æ ‡è®°ï¼Œç›´è§‚æ˜¾ç¤ºæ¯ä¸€å¤©çš„å…·ä½“æ¸©åº¦æ•°å€¼ï¼Œä¾¿äºç²¾ç¡®è¯»å–æ•°æ®ã€‚'
            }
        };

        function initChart() {
            const ctx = document.getElementById('mainChart').getContext('2d');
            const chartType = document.getElementById('chartType').value;
            const config = chartData[chartType];
            
            currentChart = new Chart(ctx, {
                type: config.type,
                data: config.data,
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'top',
                        },
                        tooltip: {
                            mode: 'index',
                            intersect: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            grid: {
                                color: 'rgba(0, 0, 0, 0.1)'
                            }
                        },
                        x: {
                            grid: {
                                color: 'rgba(0, 0, 0, 0.1)'
                            }
                        }
                    },
                    animation: {
                        duration: 1000,
                        easing: 'easeOutQuart'
                    }
                }
            });

            document.getElementById('chartDescription').textContent = config.description;
        }

        function updateChart() {
            if (currentChart) {
                currentChart.destroy();
            }
            initChart();
            applyCustomizations();
        }

        function applyCustomizations() {
            const colorTheme = document.getElementById('colorTheme').value;
            const lineStyle = document.getElementById('lineStyle').value;
            const markerType = document.getElementById('markerType').value;
            const fontSize = parseInt(document.getElementById('fontSize').value);

            // åº”ç”¨é¢œè‰²ä¸»é¢˜
            if (colorTheme !== 'custom' && currentChart) {
                const colors = colorSchemes[colorTheme];
                currentChart.data.datasets.forEach((dataset, index) => {
                    const color = colors[index % colors.length];
                    if (currentChart.config.type === 'line') {
                        dataset.borderColor = color;
                        dataset.backgroundColor = color + '20';
                    } else {
                        dataset.backgroundColor = color;
                        dataset.borderColor = color;
                    }
                });
            }

            // åº”ç”¨çº¿å‹
            if (currentChart && currentChart.config.type === 'line') {
                const dashPatterns = {
                    solid: [],
                    dashed: [5, 5],
                    dotted: [2, 2],
                    dashdot: [5, 2, 20, 2]
                };
                
                currentChart.data.datasets.forEach((dataset, index) => {
                    dataset.borderDash = dashPatterns[lineStyle];
                });
            }

            // åº”ç”¨æ ‡è®°
            if (currentChart && currentChart.config.type === 'line') {
                const markers = {
                    none: false,
                    circle: 'circle',
                    rect: 'rect',
                    triangle: 'triangle',
                    star: 'star'
                };
                
                currentChart.data.datasets.forEach(dataset => {
                    if (markers[markerType] === false) {
                        dataset.pointRadius = 0;
                    } else {
                        dataset.pointStyle = markers[markerType];
                        dataset.pointRadius = 6;
                    }
                });
            }

            // åº”ç”¨å­—ä½“å¤§å°
            if (currentChart) {
                currentChart.options.plugins.legend.labels.font = {
                    size: fontSize
                };
                currentChart.options.scales.x.ticks.font = {
                    size: fontSize
                };
                currentChart.options.scales.y.ticks.font = {
                    size: fontSize
                };
            }

            currentChart?.update();
        }

        function loadExample(exampleType) {
            document.getElementById('chartType').value = exampleType;
            updateChart();
        }

        function resetSettings() {
            document.getElementById('colorTheme').value = 'vibrant';
            document.getElementById('lineStyle').value = 'solid';
            document.getElementById('markerType').value = 'circle';
            document.getElementById('fontSize').value = '16';
            document.getElementById('fontSizeValue').textContent = '16px';
            updateChart();
        }

        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            initChart();
            
            // å­—ä½“å¤§å°æ»‘å—äº‹ä»¶
            document.getElementById('fontSize').addEventListener('input', function() {
                document.getElementById('fontSizeValue').textContent = this.value + 'px';
            });

            // å®æ—¶é¢„è§ˆæ•ˆæœ
            ['colorTheme', 'lineStyle', 'markerType', 'fontSize'].forEach(id => {
                document.getElementById(id).addEventListener('change', applyCustomizations);
            });
        });

        // ç«‹å³åˆå§‹åŒ–å›¾è¡¨
        window.onload = function() {
            initChart();
        };
    </script>
</body>
</html>