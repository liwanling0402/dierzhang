<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>第二章完整数据可视化平台</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: white; min-height: 100vh; padding: 20px;
        }
        .container { max-width: 1600px; margin: 0 auto; }
        header { 
            text-align: center; margin-bottom: 30px; padding: 25px;
            background: rgba(255,255,255,0.1); border-radius: 15px;
            backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,0.2);
        }
        h1 { 
            font-size: 2.2rem; margin-bottom: 10px;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
        }
        .chapter-info { 
            max-width: 900px; margin: 0 auto; line-height: 1.6; opacity: 0.9;
        }
        .dashboard { display: grid; grid-template-columns: 280px 1fr; gap: 25px; }
        .sidebar { 
            background: rgba(255,255,255,0.1); border-radius: 12px; padding: 20px;
            backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,0.2);
            height: fit-content; max-height: 80vh; overflow-y: auto;
        }
        .main-content { 
            background: rgba(255,255,255,0.1); border-radius: 12px; padding: 25px;
            backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,0.2);
        }
        .section-title { 
            font-size: 1.3rem; margin-bottom: 15px; color: #4ecdc4;
            border-bottom: 2px solid rgba(78,205,196,0.3); padding-bottom: 8px;
        }
        .dataset-category { margin-bottom: 20px; }
        .category-title { 
            font-size: 1.1rem; margin-bottom: 10px; color: #ff6b6b;
            padding: 5px 10px; background: rgba(255,107,107,0.1); border-radius: 5px;
        }
        .dataset-card { 
            background: rgba(255,255,255,0.15); border-radius: 8px; padding: 12px;
            margin-bottom: 8px; cursor: pointer; transition: all 0.3s ease;
            font-size: 0.9rem;
        }
        .dataset-card:hover { transform: translateY(-2px); background: rgba(255,255,255,0.2); }
        .dataset-card.active { border: 2px solid #4ecdc4; background: rgba(78,205,196,0.1); }
        .dataset-title { font-weight: bold; margin-bottom: 5px; }
        .dataset-desc { font-size: 0.8rem; opacity: 0.8; }
        .chart-header { margin-bottom: 20px; }
        .chart-controls { 
            display: flex; gap: 8px; margin: 15px 0; flex-wrap: wrap;
            background: rgba(0,0,0,0.2); padding: 12px; border-radius: 8px;
        }
        .chart-type-btn { 
            padding: 6px 12px; border: 1px solid #4ecdc4; background: transparent;
            color: #4ecdc4; border-radius: 4px; cursor: pointer; transition: all 0.3s;
            font-size: 0.85rem;
        }
        .chart-type-btn:hover { background: rgba(78,205,196,0.1); }
        .chart-type-btn.active { background: #4ecdc4; color: #1e3c72; }
        .chart-container { 
            background: rgba(0,0,0,0.3); border-radius: 10px; padding: 20px;
            margin-bottom: 20px;
        }
        .chart-wrapper { position: relative; height: 450px; width: 100%; }
        canvas { width: 100% !important; height: 100% !important; }
        .data-info { 
            background: rgba(255,255,255,0.1); border-radius: 6px; padding: 12px;
            font-size: 0.85rem; text-align: center; margin-top: 15px;
        }
        .chart-description { 
            background: rgba(255,255,255,0.05); border-radius: 8px; padding: 15px;
            margin-top: 15px; font-size: 0.9rem; line-height: 1.5;
        }
        .features-grid { 
            display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px; margin-top: 25px;
        }
        .feature-card { 
            background: rgba(255,255,255,0.1); border-radius: 8px; padding: 15px;
            text-align: center; border-left: 3px solid #4ecdc4;
        }
        .feature-title { font-weight: bold; margin-bottom: 5px; color: #4ecdc4; }
        @media (max-width: 1024px) { .dashboard { grid-template-columns: 1fr; } }
        @media (max-width: 768px) { 
            .chart-controls { justify-content: center; }
            h1 { font-size: 1.8rem; }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>第二章完整数据可视化平台</h1>
            <p class="chapter-info">基于《数据可视化》第二章10种基础图表类型的完整交互式展示平台，包含所有教学实例数据</p>
        </header>
        
        <div class="dashboard">
            <div class="sidebar">
                <h3 class="section-title">📚 第二章图表类型</h3>
                
                <div class="dataset-category">
                    <div class="category-title">📈 折线图 (2.1)</div>
                    <div class="dataset-card" data-key="temperatureData">
                        <div class="dataset-title">未来15天气温趋势</div>
                        <div class="dataset-desc">最高气温和最低气温变化趋势</div>
                    </div>
                </div>
                
                <div class="dataset-category">
                    <div class="category-title">📊 柱形图 (2.2)</div>
                    <div class="dataset-card" data-key="alibabaGMVData">
                        <div class="dataset-title">阿里巴巴GMV统计</div>
                        <div class="dataset-desc">2013-2019财年GMV增长趋势</div>
                    </div>
                </div>
                
                <div class="dataset-category">
                    <div class="category-title">📋 条形图 (2.3)</div>
                    <div class="dataset-card" data-key="shoppingRateData">
                        <div class="dataset-title">网购替代率</div>
                        <div class="dataset-desc">各商品种类网购替代率对比</div>
                    </div>
                </div>
                
                <div class="dataset-category">
                    <div class="category-title">🟦 面积图 (2.4)</div>
                    <div class="dataset-card" data-key="logisticsData">
                        <div class="dataset-title">物流费用统计</div>
                        <div class="dataset-desc">三家物流公司各月费用</div>
                    </div>
                </div>
                
                <div class="dataset-category">
                    <div class="category-title">📊 直方图 (2.5)</div>
                    <div class="dataset-card" data-key="histogramData">
                        <div class="dataset-title">人脸识别灰度直方图</div>
                        <div class="dataset-desc">10000个随机数的分布</div>
                    </div>
                </div>
                
                <div class="dataset-category">
                    <div class="category-title">🥧 饼图 (2.6)</div>
                    <div class="dataset-card" data-key="alipayData">
                        <div class="dataset-title">支付宝月账单</div>
                        <div class="dataset-desc">各类消费占比分析</div>
                    </div>
                </div>
                
                <div class="dataset-category">
                    <div class="category-title">🔵 散点图 (2.7)</div>
                    <div class="dataset-card" data-key="carData">
                        <div class="dataset-title">汽车速度与制动距离</div>
                        <div class="dataset-desc">速度与制动距离相关性分析</div>
                    </div>
                </div>
                
                <div class="dataset-category">
                    <div class="category-title">📦 箱形图 (2.8)</div>
                    <div class="dataset-card" data-key="powerData">
                        <div class="dataset-title">全国发电量统计</div>
                        <div class="dataset-desc">月度发电量分布情况</div>
                    </div>
                </div>
                
                <div class="dataset-category">
                    <div class="category-title">🛰️ 雷达图 (2.9)</div>
                    <div class="dataset-card" data-key="hollandData">
                        <div class="dataset-title">霍兰德职业兴趣测试</div>
                        <div class="dataset-desc">六种职业兴趣类型对比</div>
                    </div>
                </div>
                
                <div class="dataset-category">
                    <div class="category-title">📏 误差棒图 (2.10)</div>
                    <div class="dataset-card" data-key="rootData">
                        <div class="dataset-title">细根生物量测量</div>
                        <div class="dataset-desc">不同树种生物量对比</div>
                    </div>
                </div>
            </div>
            
            <div class="main-content">
                <div class="chart-header">
                    <h3 class="section-title">📊 图表展示区域</h3>
                    <p>选择左侧数据集，切换不同图表类型进行查看</p>
                    
                    <div class="chart-controls">
                        <button class="chart-type-btn active" data-type="line">折线图</button>
                        <button class="chart-type-btn" data-type="bar">柱状图</button>
                        <button class="chart-type-btn" data-type="pie">饼图</button>
                        <button class="chart-type-btn" data-type="scatter">散点图</button>
                        <button class="chart-type-btn" data-type="area">面积图</button>
                        <button class="chart-type-btn" data-type="histogram">直方图</button>
                        <button class="chart-type-btn" data-type="box">箱形图</button>
                        <button class="chart-type-btn" data-type="radar">雷达图</button>
                        <button class="chart-type-btn" data-type="error">误差棒图</button>
                    </div>
                </div>
                
                <div class="chart-container">
                    <div class="chart-wrapper">
                        <canvas id="mainChart"></canvas>
                    </div>
                    
                    <div class="data-info">
                        <p>当前显示：<span id="currentDataset">未来15天气温趋势</span> | 图表类型：<span id="currentChartType">折线图</span></p>
                    </div>
                    
                    <div class="chart-description">
                        <h4>📝 图表说明</h4>
                        <p id="chartDescription">折线图适合展示连续数据的变化趋势，能够清晰地显示数据随时间或其他连续变量的变化规律。</p>
                    </div>
                </div>
                
                <div class="features-grid">
                    <div class="feature-card">
                        <div class="feature-title">🎯 核心功能</div>
                        <p>• 10种基础图表类型</p>
                        <p>• 交互式数据切换</p>
                        <p>• 实时图表更新</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-title">📚 第二章内容</div>
                        <p>• 折线图 - 趋势分析</p>
                        <p>• 柱状图 - 数据对比</p>
                        <p>• 饼图 - 比例展示</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-title">🔧 技术实现</div>
                        <p>• Chart.js图表库</p>
                        <p>• 响应式设计</p>
                        <p>• 现代化UI</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // 第二章完整数据集
        const chapter2Data = {
            temperatureData: {
                name: '未来15天气温趋势',
                description: '展示最高气温和最低气温的变化趋势，适合分析连续数据的时间序列变化',
                line: {
                    labels: ['第1天', '第2天', '第3天', '第4天', '第5天', '第6天', '第7天', '第8天', '第9天', '第10天', '第11天', '第12天', '第13天', '第14天', '第15天'],
                    datasets: [
                        { label: '最高气温', data: [32, 33, 34, 34, 33, 31, 30, 29, 30, 29, 26, 23, 21, 25, 31], borderColor: '#ff6b6b', backgroundColor: 'rgba(255, 107, 107, 0.1)' },
                        { label: '最低气温', data: [19, 19, 20, 22, 22, 21, 22, 16, 18, 18, 17, 14, 15, 16, 16], borderColor: '#4ecdc4', backgroundColor: 'rgba(78, 205, 196, 0.1)' }
                    ]
                }
            },
            alibabaGMVData: {
                name: '阿里巴巴GMV统计',
                description: '展示2013-2019财年阿里巴巴GMV增长趋势，适合比较不同年份的数值大小',
                bar: {
                    labels: ['2013', '2014', '2015', '2016', '2017', '2018', '2019'],
                    datasets: [
                        { label: 'GMV (亿元)', data: [10770, 16780, 24440, 30920, 37670, 48200, 57270], backgroundColor: 'rgba(255, 107, 107, 0.8)' }
                    ]
                }
            }
        };

        // 图表配置函数
        function getChartConfig(type, data) {
            const baseConfig = {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { labels: { color: 'white' } }
                },
                scales: {
                    x: { ticks: { color: 'white' } },
                    y: { ticks: { color: 'white' } }
                }
            };

            return { type, data, options: baseConfig };
        }

        // 页面初始化
        let currentChart = null;
        let currentDataset = 'temperatureData';
        let currentChartType = 'line';

        function initPage() {
            // 初始化事件监听
            document.querySelectorAll('.dataset-card').forEach(card => {
                card.addEventListener('click', function() {
                    document.querySelectorAll('.dataset-card').forEach(c => c.classList.remove('active'));
                    this.classList.add('active');
                    currentDataset = this.getAttribute('data-key');
                    updateChart();
                });
            });

            document.querySelectorAll('.chart-type-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.chart-type-btn').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    currentChartType = this.getAttribute('data-type');
                    updateChart();
                });
            });

            // 初始化第一个数据集
            document.querySelector('.dataset-card').classList.add('active');
            updateChart();
        }

        function updateChart() {
            const ctx = document.getElementById('mainChart').getContext('2d');
            const data = chapter2Data[currentDataset];
            
            if (currentChart) {
                currentChart.destroy();
            }

            currentChart = new Chart(ctx, getChartConfig(currentChartType, data[currentChartType]));
            
            // 更新显示信息
            document.getElementById('currentDataset').textContent = data.name;
            document.getElementById('currentChartType').textContent = getChartTypeName(currentChartType);
            document.getElementById('chartDescription').textContent = data.description;
        }

        function getChartTypeName(type) {
            const names = {
                line: '折线图',
                bar: '柱状图',
                pie: '饼图',
                scatter: '散点图',
                area: '面积图',
                histogram: '直方图',
                box: '箱形图',
                radar: '雷达图',
                error: '误差棒图'
            };
            return names[type] || type;
        }

        // 页面加载完成后初始化
        document.addEventListener('DOMContentLoaded', initPage);
    </script>
</body>
</html>